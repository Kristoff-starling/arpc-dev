syntax = "proto3";

package Test;
option go_package = "./Test";

service TestService {
    rpc Test(TestRequest) returns(TestResponse);
}

message TestRequest {
  int32 id = 1;
  string username = 2;
  int32 score = 3;
  repeated string content = 4;
  repeated int32 numbers = 5;
}

message TestResponse {
  string resp = 1;
}

// Tests a message containing only fixed-length scalar types.
message TestFixedLen {
  int32 f_int32 = 1;
  int64 f_int64 = 2;
  bool f_bool = 3;
  double f_double = 4;
}

// Tests a message containing only variable-length scalar types.
message TestVariableLen {
  string v_string = 1;
  // TODO: Support bytes type
  // bytes v_bytes = 2;
}

// Tests a message containing repeated fields of both fixed and variable types.
message TestRepeated {
  repeated int32 r_fixed = 1;
  repeated string r_variable = 2;
}

// Tests that the generator correctly deal with mixed-ordered fields
message TestOrder {
  string v_first = 1;           // Variable
  int32 f_second = 2;           // Fixed
  repeated int32 r_third = 3;   // Variable
  int64 f_fourth = 4;           // Fixed
  repeated string r_fifth = 5;  // Variable
}

// Tests an empty message with no fields
message TestEmpty {
}


// Inner message to be used for nesting.
message InnerMessage {
  int32 inner_id = 1;
  string inner_text = 2;
}

// Tests a message containing nested message fields (singular and repeated).
message TestNested {
  int64 outer_id = 1;
  InnerMessage singular_nested = 2;
  repeated InnerMessage repeated_nested = 3;
}

// Messages for demonstrating multi-level nesting.
message Level3Message {
  string final_text = 1;
}

message Level2Message {
  Level3Message nested_level3 = 1;
}

message TestDeepNested {
  int32 top_level_id = 1;
  Level2Message nested_level2 = 2;
}

